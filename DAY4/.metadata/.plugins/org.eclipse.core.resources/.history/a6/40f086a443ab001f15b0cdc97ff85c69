
public class SinglyCircular {

	    static class Node {
	        int data;
	        Node next;

	        Node(int value) {
	            data = value;
	            next = null;
	        }
	    }

	    private Node tail; 
	    private int size; 

	    public SinglyCircular() {
	        tail = null;
	        size = 0;
	    }

	    public boolean isEmpty() {
	        return tail == null;
	    }
	    public void addFirst(int value) {
	        Node newNode = new Node(value);

	        if (isEmpty()) {
	            tail = newNode;
	            tail.next = tail; 
	        } else {
	            newNode.next = tail.next;
	            tail.next = newNode;      
	        }
	        size++;
	    }

	    public void addLast(int value) {
	        Node newNode = new Node(value);

	        if (isEmpty()) {
	            tail = newNode;
	            tail.next = tail;
	        } else {
	            newNode.next = tail.next; 
	            tail.next = newNode;    
	            tail = newNode;          
	        }
	        size++;
	    }

	    // Delete the first node
	    public void deleteFirst() {
	        if (isEmpty()) {
	            return;
	        } else if (tail.next == tail) { // Single node case
	            tail = null;
	        } else {
	            tail.next = tail.next.next; // Skip the first node
	        }
	        size--;
	    }

	    // Delete the last node
	    public void deleteLast() {
	        if (isEmpty()) {
	            return;
	        } else if (tail.next == tail) { // Single node case
	            tail = null;
	        } else {
	            Node current = tail.next; // Start from the first node
	            while (current.next != tail) {
	                current = current.next; // Move to the second-to-last node
	            }
	            current.next = tail.next; // Update the second-to-last node's next to point to the first node
	            tail = current;           // Update tail to the second-to-last node
	        }
	        size--;
	    }

	    // Display the list
	    public void display() {
	        if (isEmpty()) {
	            System.out.println("List is empty.");
	            return;
	        }

	        Node current = tail.next; // Start from the first node
	        do {
	            System.out.print(current.data + " -> ");
	            current = current.next;
	        } while (current != tail.next);
	        System.out.println("(back to head)");
	    }

	    // Get the size of the list
	    public int size() {
	        return size;
	    }
	}


